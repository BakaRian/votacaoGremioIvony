<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Votação Ivony De Camargo Salles</title>
</head>
<body>
    <div id="saída">
        <!-- Aqui serão exibidos os resultados -->
    </div>

    <script>
        let chapa1 = 0;
        let chapa2 = 0;
        let chapa3 = 0;
        let chapa4 = 0; // Adicionando variável para o quarto candidato
        let nulos = 0;
        let total_votos = 0;

        function atualizarResultado() {
            let porcentagem_chapa1 = (chapa1 * 100) / total_votos;
            let porcentagem_chapa2 = (chapa2 * 100) / total_votos;
            let porcentagem_chapa3 = (chapa3 * 100) / total_votos;
            let porcentagem_chapa4 = (chapa4 * 100) / total_votos; // Calculando a porcentagem para o quarto candidato
            let porcentagem_nulos = (nulos * 100) / total_votos;

            let saída = document.getElementById("saída");
            saída.innerHTML = `
                <p>Total de votos: ${total_votos}</p>
                <p>Candidato A (Chapa1): ${chapa1} voto(s). ${porcentagem_chapa1.toFixed(2)}% do total</p>
                <p>Candidato B (Chapa2): ${chapa2} voto(s). ${porcentagem_chapa2.toFixed(2)}% do total</p>
                <p>Candidato C (Chapa3): ${chapa3} voto(s). ${porcentagem_chapa3.toFixed(2)}% do total</p>
                <p>Candidato D (Chapa4): ${chapa4} voto(s). ${porcentagem_chapa4.toFixed(2)}% do total</p>
                <p>Nulos: ${nulos} voto(s). ${porcentagem_nulos.toFixed(2)}% do total</p>
                <p>------------<br><b>Sistema de votação</b><br> 3ºNOVOTEC Ivony Camargo Salles</b><br>Tutor: Rodrigo Georgino</p>
                <p><form><input type="button" value="Imprimir esta página" onClick="window.print()"/></form></p>
            `;
        }

        function realizarVotacao() {
            let voto = parseInt(prompt("Escolha seu candidato ou tecle zero para encerrar:\n\n1 -> Chapa1\n2 -> Chapa2\n3 -> Chapa3\n4 -> Chapa4\n\nQualquer número diferente de 0, 1, 2, 3 e 4 será anulado o seu voto"));

            if (voto === 0) {
                alert("Votação encerrada!");
            } else if (voto === 1) {
                chapa1++;
            } else if (voto === 2) {
                chapa2++;
            } else if (voto === 3) {
                chapa3++;
            } else if (voto === 4) { // Condição para o quarto candidato
                chapa4++;
            } else {
                nulos++;
            }

            total_votos = chapa1 + chapa2 + chapa3 + chapa4 + nulos; // Adicionando o quarto candidato à contagem total
            atualizarResultado();

            if (voto !== 0) {
                realizarVotacao();
            }
        }

        realizarVotacao();
    </script>
</body>
</html>
